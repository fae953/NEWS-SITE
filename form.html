<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>
<body style="background-color: rgb(178, 189, 189);">

       <div style="display: flex; justify-content: center;">
        <form id="postForm">
            <h1 style="text-align: center;">POST FORM</h1>

            <input type="text" id="title" placeholder="Enter post title" required style="height: 60px; background-color: rgb(178, 189, 189); border: 1px solid; margin:0px 20px ; font-size: 15px;" /> <br> 

            <textarea id="body" placeholder="Enter post body" required style="height: 60px; background-color: rgb(178, 189, 189); margin: 0px 20px; font-size: 15px; border: 1px solid;"></textarea> <br>

            <div style="display: flex; justify-content: center;">
                <button type="submit" style="padding: 20px; border-radius: 20px; border: 1px; margin-bottom: 20px; background-color: rgba(74, 71, 71, 0.749); font-size: 15px; cursor: pointer;">Create Post</button>
            </div>
    </form></div>
    

    <script>
  const form = document.getElementById("postForm");

  form.addEventListener("submit", (e) => {
    e.preventDefault();

    const title = document.getElementById("title").value;
    const body = document.getElementById("body").value;

    const postData = {
      title: title,
      body: body,
      userId: 1,
    };

    fetch("https://jsonplaceholder.typicode.com/posts", {
      method: "POST",
      body: JSON.stringify(postData),
      headers: {
        "Content-type": "application/json; charset=UTF-8",
      },
    })
      .then((res) => res.json())
      .then((response) => {
        console.log("Created post:", response);

        // Save post temporarily in localStorage
        localStorage.setItem("newPost", JSON.stringify(response));

        // Redirect back to index.html
        alert("post created successfully!!")
        window.location.href = "index.html";
      })
      .catch((error) => console.error("Error creating post:", error));
  });
</script>

</body>
</html>